第九章

![image](img/frontdot.jpg)

条件式

条件语句用于根据不同的条件执行不同的代码块。

如果语句

if 语句只有在括号内的表达式计算结果为 true 时才会执行。在 C++中，这不一定是布尔表达式。它可以是计算结果为数字的任何表达式，在这种情况下，零为假，所有其他数字为真。

```cpp
if (x < 1) {
   cout << x << " < 1";
}
```

为了测试其他条件，if 语句可以由任意数量的 else if 子句扩展。

```cpp
else if (x > 1) {
   cout << x << " > 1";
}
```

if 语句的末尾可以有一个 else 子句，如果前面的所有条件都为假，将执行该子句。

```cpp
else {
   cout << x << " == 1";
}
```

至于花括号，如果只需要有条件地执行一条语句，就可以省去。但是，始终包含它们被认为是一种好的做法，因为它们可以提高可读性。

```cpp
if (x < 1)
   cout << x << " < 1";
else if (x > 1)
   cout << x << " > 1";
else
   cout << x << " == 1";
```

交换语句

switch 语句检查整数和一系列事例标签之间的相等性，然后将执行传递给匹配的事例。它可以包含任意数量的 case 子句，并且可以以处理所有其他 case 的默认标签结束。

```cpp
switch (x)
{
    case 0: cout << x << " is 0"; break;
    case 1: cout << x << " is 1"; break;
    default: cout << x << " is not 1 or 2"; break;
}
```

注意，每个 case 标签后的语句以关键字`break`结束，以跳过开关的其余部分。如果省略了`break`,执行将继续到下一个案例，如果需要以相同的方式评估几个案例，这将非常有用。

三元运算符

除了 if 和 switch 语句，还有三元运算符(`?:`)可以替换单个 if/else 子句。这个运算符有三个表达式。如果第一个表达式为真，则计算并返回第二个表达式，如果为假，则计算并返回第三个表达式。

```cpp
x = (x < 0.5) ? 0 : 1; // ternary operator (?:)
```

C++允许表达式作为独立的代码语句使用。因此，三元运算符不仅可以用作表达式，还可以用作语句。

```cpp
(x < 0.5) ? x = 0 : x = 1; // alternative syntax
```

编程术语*表达式*指的是计算出一个值的代码，而*语句*是以分号或右花括号结束的代码段。