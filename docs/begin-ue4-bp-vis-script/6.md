# 6.导入网格和纹理

让我们从 Autodesk 3ds Max 中导出网格，并将其导入到虚幻引擎中。首先，打开 3ds Max 场景，并准备好导出网格。从“文件”菜单中选择“导出”，然后选择保存 FBX 文件的位置和名称。FBX 导出选项弹出来设置以下设置，因为您正在导出静态网格。

1.  展开几何体类别并启用平滑组。

2.  展开“动画”、“摄影机”和“灯光”类别并禁用它们。

3.  (可选)禁用嵌入媒体。通过启用嵌入媒体选项，可以在 FBX 文件中包含纹理。

4.  展开“单位”类别并启用自动转换。

5.  最后，确保 FBX 文件格式是 2018，然后按确定。在写这本书的时候，UE4 FBX 进口管道使用 FBX 2018。使用较早或较新的版本可能会导致不兼容。

导出资源后，打开虚幻引擎和内容浏览器。右键单击空白区域并选择导入选项。从“导入文件浏览器”对话框中，导航到导出资源的位置，选择它，然后导入。这将打开 FBX 导入选项对话框。让我们来看看一些重要的设置(见图 [6-1a](#Fig1) 和 [6-1b](#Fig2) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig2_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig2_HTML.jpg)

图 6-1b。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig1_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig1_HTML.jpg)

图 6-1a。

*   **自动生成碰撞**(图 [6-1a](#Fig1) 中的区域 1)如果 FBX 文件中没有包含自定义碰撞，自动为你的网格生成碰撞。

*   **合并网格**(图 [6-1a](#Fig1) 中的区域 2)是一个高级选项。如果在一个 FBX 文件中有多个网格，启用该选项会将它们合并到一个网格中。

*   **导入平移/旋转和缩放**(图 [6-1a](#Fig1) 中的区域 3)调整导入网格相对于 FBX 文件的位置、旋转和缩放。这意味着，如果您以统一比例输入 2，那么网格将比原始文件大两倍。

*   **转换场景**(图中 4 区 [6-1b](#Fig2) )将 FBX 坐标系转换到 UE4 坐标系。建议打开此选项。

*   **导入纹理**(图中 5 区 [6-1b](#Fig2) )。由于我们选择在导出 FBX 文件时不嵌入媒体，因此该选项没有任何作用，因为没有嵌入媒体。如果您的网格是带纹理的，并且您选择在导出时嵌入媒体，则启用该选项也会导入关联的纹理。

因为这个网格已经被纹理化了，我导入了所有相关的纹理并创建了一个材质来应用到这个网格上。以下是创建纹理时需要记住的一些提示。

*   仅支持以下格式。
    *   位图文件的扩展名(Bitmap)

    *   巴布亚新几内亚

    *   热重量分析法

    *   使用 jpeg 文件交换格式存储的编码图像文件扩展名

    *   PSD: Photoshop 文件

    *   PCX:图片交换

    *   EXR 或 HDR: OpenEXR 或 HDR 格式，通常用于环境贴图

    *   DDS:立方体贴图

*   所有纹理(除了用户界面/HUD)必须是 2 的幂(例如，32×32、64×64、128×128、256×256、128×32、512×256、2048×512 等)。)虚幻引擎支持的最大纹理分辨率为 8192，但游戏中的显示被限制在 4096。

*   强烈建议尽可能对灰度纹理使用打包纹理，因为 UE4 材质编辑器可以从纹理中读取单个通道。例如，将“粗糙度”纹理设置为红色通道，将“金属色”设置为绿色通道，将“环境光阻挡”设置为蓝色通道，将“发射”设置为 Alpha 通道。这种工作流程效率更高，并将纹理数量从 4 个减少到 1 个。

你需要了解每一个纹理以及它的用处，包括单独的纹理通道。首先，让我们看看一些常见的纹理术语，因为它们很重要。

*   漫射(非 PBR):这张贴图定义了你的物体的外观。想象在砖墙前拍摄一张照片，用作漫反射贴图。它包括所有的照明信息和阴影细节。

*   反照率 (PBR):与漫反射相同，但没有任何照明或阴影信息。

*   **镜面反射**(非 PBR):通常是一个灰度贴图，定义反射应该出现的位置。

*   **粗糙度** (PBR):定义反射清晰度的灰度贴图。更接近白色意味着它更粗糙，所以光线向更多方向散射，使反射模糊。越接近黑色意味着越平滑，反射越清晰。

Note

一些软件可能会称之为地图光泽。术语*光泽度*和*粗糙度*是可以互换的，它们是相互颠倒的。

*   金属质感 (PBR):一张黑白贴图，定义你的表面有多像金属。使用黑色或白色的原因是表面要么是金属的，要么是非金属的。介于 0 和 1 之间的任何值都是罕见的用例。

*   **正常** (PBR 和非 PBR):代表每个通道不同方向轴的紫色地图。它为表面提供了额外的高微观细节。

*   **环境遮挡** (AO) (PBR 和非 PBR):包含微阴影或细节阴影的黑白贴图。将这张地图乘以反照率。

一些纹理(也称为贴图)旁边写着 PBR 和非 PBR。这意味着该映射仅在特定的工作流中有用。PBR 代表基于物理的渲染，UE4 和所有现代游戏引擎都使用它。

现在你有了纹理的概念，让我们把它们导入到虚幻引擎。导航到有纹理的文件夹，或者直接拖放到内容浏览器，或者右键单击内容浏览器并导入它，就像您对我们的网格所做的那样。

## 创建材料

要使用纹理，您需要创建定义对象外观和感觉的材质。您可以设置材质的亮度、纹理的外观、透明度等等。在材质内部，可以创建表达式节点来定义材质的感觉。要创建材质，请在内容浏览器中单击鼠标右键，然后选择“材质”。之后，双击新创建的材质打开材质编辑器。你看到一个图形编辑器，如图 [6-2](#Fig3) 所示。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig3_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig3_HTML.jpg)

图 6-2。

材质编辑器分为四个部分。

*   **视窗**(图 [6-2](#Fig3) 中的区域 1)是你看到最终素材的地方。

*   在**细节面板**(图 [6-2](#Fig3) 中的区域 2)可以编辑所选节点的属性(也称为材质表达式节点)。如果没有选择节点，则显示材质的属性。

*   **图形编辑器**(图 [6-2](#Fig3) 中的区域 3)是你创建材质表达节点网络的地方。默认情况下，它从具有一系列输入的单个基础节点开始，您可以将这些输入连接到材质表达式。

*   **调色板面板**(图 [6-2](#Fig3) 中的区域 4)包含所有可以拖放到图形编辑器中的节点列表。

*   **统计面板**(图 [6-2](#Fig3) 中的区域 5)显示了材料的重要信息，如指令数和纹理样本数。

让我们应用基本颜色的材料。按住键盘上的 3 键。在图形编辑器中单击鼠标左键，创建一个 vector3 节点。或者在图形编辑器中右键单击，搜索 Constant3Vector 并选择该节点。创建后，右键单击选定的节点并选择“转换为参数”。系统会提示您输入新节点的名称。为了简单起见，我们称之为 **Color** 并将第一个白色大头针连接到你的材质的基色节点。结果图应该如图 [6-3](#Fig4) 所示。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig4_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig4_HTML.jpg)

图 6-3。

您创建的参数值可以通过 C++或 Blueprints 在运行时修改。

### 材料类型

在继续学习材质之前，我们先来看看 Unreal Engine 中可用的不同类型的材质。材料有三种类型。

*   **素材**:您刚刚创建的主素材。

*   **材质实例常量**:实例化的材质(基本上是主材质的子材质)在运行时不能改变其属性。

*   **材质实例动态**:一个实例化的材质，可以在运行时改变其属性。它只能在运行时通过蓝图或 C++创建，不能通过内容浏览器访问。

材质实例(常量和动态)用于更改材质的外观，而无需重新编译主材质。您在主材质编辑器中所做的任何更改都需要重新编译着色器，如果材质非常复杂，这将需要很长时间。为了节省时间，您可以选择参数化要更改的主材质中的某些节点，而无需重新编译材质。这是通过创建一个 Constant3Vector 节点并将其转换为一个参数来完成的。

返回到内容浏览器，右键单击刚刚添加的材料，并从上下文菜单中选择创建材料实例(参见图 [6-4](#Fig5) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig5_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig5_HTML.jpg)

图 6-4。

现在，在材质旁边有了一个新资源，这就是我们的实例化材质。打开它，你应该会看到一个类似于图 [6-5](#Fig6) 所示截图的窗口。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig6_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig6_HTML.jpg)

图 6-5。

*   **视口**(图 [6-5](#Fig6) 中的区域 1)是你看到材质实例变化的地方。

*   **细节面板**(图 [6-5](#Fig6) 中的区域 2)列出了来自母材料的所有参数。在这里，您可以覆盖或更改它们，并在视口中立即看到更改。默认情况下，参数不会被覆盖；要覆盖它们，左键单击参数名称旁边的灰色复选框。

让我们将这个材质实例的颜色改为蓝色。为此，请覆盖颜色参数并单击默认颜色以打开拾色器。随意选择你喜欢的任何颜色(见图 [6-6](#Fig7) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig7_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig7_HTML.jpg)

图 6-6。

更改颜色时，视口会无延迟地实时更新更改。

返回到内容浏览器，打开之前创建的原始材质，更改颜色，然后应用。您会看到，在显示更改后的颜色之前，视口会暂时将材质更改为基于栅格的材质。这是因为着色器重新编译。

除了提到的所有材质类型，还有两种类型对材质工作流有帮助。

*   材料功能

*   材料参数收集

材质函数本质上是不同材质表达式节点的集合，您可以在材质中重用这些节点。把它们想象成一个容器，或者包，或者一组有输入和输出的节点。如果您经常创建一系列节点，并且您发现自己在重用它们，那么您最好创建一个材料函数，并将这些节点系列保存在一个函数图中。

Unreal Engine 4 已经包含了几个常用着色器操作的材质函数，如混合、模糊着色、简单草风等。它们可以接受任何输入，并根据输入和其他参数进行处理，然后发送输出。

材料参数集合是一种数据资产，用于存储任何材料中使用的一组标量和矢量参数。这个集合可以从任何地方访问，使其成为向多种材料发送全局数据的强大工具。

#### 材料功能示例

为了演示一个材质函数，让我们创建一个简单的在 X 和 Y 方向平移纹理的函数。要创建材质函数，单击内容浏览器，在“材质和纹理”类别下，选择材质函数(参见图 [6-7](#Fig8) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig8_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig8_HTML.jpg)

图 6-7。

创建后，给它命名(例如，MyMaterialFunction)并双击打开它。一旦你打开，你会看到一个默认输出(这应该是默认选择)节点，和材料应该是说缺少功能输出结果。这是因为一个材料函数可以有多个输入和输出。您可以通过右键单击输出节点并选择开始预览来预览输出。默认情况下，Unreal Engine 预览默认输出节点，由于没有连接任何节点，因此它只报告错误。现在要修复它，右键单击蓝色输出节点并选择停止预览节点(见图 [6-8](#Fig9) )。这将消除错误。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig9_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig9_HTML.jpg)

图 6-8。

你创建了一个平移纹理的材质函数，让我们开始吧。

1.  按住键盘上的 T 键，在图形内单击鼠标左键或右键，搜索并选择纹理样本。

2.  在图形中右键单击，搜索函数输入并选择它。这些节点是将数据传递到图中的一种方式(类似于编程语言中的函数输入)。因为您想要使用任何纹理的能力，您使用它作为输入。

3.  在“细节”面板中(确保选择了“输入”节点)，将“函数输入”设置为“函数输入纹理 2D”，并将“输入名称”设置为“纹理”(这可以是您喜欢的任何名称，因为它除了在图形外部可见之外没有任何用途)。将该节点连接到先前创建的纹理采样节点的纹理输入。

4.  右键单击图形内部，搜索纹理对象并选择它。您可以使用该节点为之前创建的输入节点提供默认值。将纹理节点连接到函数输入节点的预览输入。

5.  右键单击图表，搜索“平移”，然后选择它。这是进行平移或移动的主节点。将声相器输出连接到纹理采样节点的 UVs 引脚。

6.  创建另一个函数输入节点并选择它。将功能输入设置为功能输入向量 2，并将其连接到之前创建的声相器节点的速度输入。确保启用“使用预览值作为默认值”。

7.  右键单击图形，搜索 Constant2Vector 节点，并选择它。将 Constant2Vector 的 R 和 G 的默认值都设置为 0.1，并将其连接到之前创建的函数节点的预览输入。

8.  剩下的唯一事情是将纹理样本节点的输出连接到主输出节点。右键单击最终输出节点，然后选择“开始预览节点”。

你现在应该有一个类似于图 [6-9](#Fig10) 的图表。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig10_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig10_HTML.jpg)

图 6-9。

要将其显示给材质，请确保没有选择任何节点。在“细节”面板中，启用“向库公开”。展开“库”类别文本部分。将“杂项”类别替换为您喜欢的任何名称，并保存材质功能。比如我把它改成了一本 press Book(见图 [6-10](#Fig11) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig11_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig11_HTML.jpg)

图 6-10。

回到本章开始时创建的主要材料，右键单击图形内部。您应该看到新材料功能已准备就绪(见图 [6-11](#Fig12) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig12_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig12_HTML.jpg)

图 6-11。

### 使用 Blueprint 和 C++在运行时修改材料

在“材质类型”部分，我提到了可以使用材质实例动态来更改材质属性。本节介绍如何使用您创建的材质创建动态材质实例，并在运行时更改其颜色。

#### 使用蓝图

对于这个材质运行时章节，你使用一个虚幻引擎附带的静态网格，这样你就可以很容易地跟随。

打开或转到内容浏览器，在空白区域单击鼠标右键，然后选择“蓝图类”。从“选择父类”对话框中选择 Actor 作为我们的基础，并为其命名(例如，BP_MyActor)。双击新创建的 Blueprint 类将其打开。打开后，您会在中间看到“视口”选项卡，在右侧看到“组件”选项卡。

单击绿色的+添加组件按钮，并从列表中选择静态网格。您可以将其重命名为您喜欢的任何名称，对于这个示例，我将其重命名为 MyStaticMeshComponent。选择新创建的静态网格组件，并从“静态网格”类别下的“详细信息”面板中，单击标记为“无”的下拉按钮。这将打开一个下拉列表，您可以在其中选择要指定的网格。由于您使用的是引擎自带的网格，单击查看选项按钮并选择显示引擎内容(参见图 [6-12](#Fig13) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig13_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig13_HTML.jpg)

图 6-12。

接下来搜索 SM_MatPreview，选择 SM_MatPreviewMesh_01。您应该在“视口”选项卡中看到新的网格。现在您已经指定了我们需要的网格，您不再需要显示引擎内容。转到相同的视图选项，取消选中显示引擎内容。

现在，您已经完成了网格的指定，但是您仍然需要在运行时更改材质。下面解释一下怎么做。

1.  切换到“构造脚本”选项卡，在图形中单击鼠标右键，然后搜索“创建动态材质实例”。选择第一个节点。

2.  在新创建的节点中，单击父按钮(显示“选择资源”)并选择先前创建的材质。无论选择主父材质还是它的一个实例，都没有关系。

3.  因为您在运行时更改了它，所以您需要一个对此动态材质实例的引用。单击、拖动并释放返回值锁定，然后选择提升到变量。让我们称这个新变量为 MID(材质实例动态的简称)。

4.  从“组件”选项卡中单击 MyStaticMeshComponent 组件，并将其拖到图形中。这将自动为 MyStaticMeshComponent 创建一个 getter 节点。从 MyStaticMeshComponent 的输出管脚，左键单击并拖动一条新的线，然后释放它。从出现的上下文菜单中，搜索“Set Material”并选择它。确保选择“设置材质”而不是“按名称设置材质”。

5.  将设置中间节点连接到设置材质节点。

6.  再次右键单击图表，搜索 Get MID 并选择它。这与您在步骤 3 中创建的变量相同。将中间节点连接到在步骤 4 中创建的“设置材质”节点的材质输入。

图 [6-13](#Fig14) 显示了完整的图形。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig14_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig14_HTML.jpg)

图 6-13。

切换到 Viewport 选项卡，你会看到网格现在是黑色的，这是你在 Material 中指定的默认颜色(见图 [6-14](#Fig15) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig15_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig15_HTML.jpg)

图 6-14。

现在是时候创建一个新的函数来动态改变颜色了。切换回构造脚本选项卡，并再次创建获取中间节点。从中间节点拖动一条线，并选择“设置向量参数值”节点。在该节点中，将参数名称设置为颜色，该名称与您在材质编辑器中设置的名称相同(参见图 [6-15](#Fig16) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig16_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig16_HTML.jpg)

图 6-15。

您可以创建一个功能节点来轻松切换颜色。要创建函数，请执行以下步骤。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig17_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig17_HTML.jpg)

图 6-16。

1.  选择中间节点和“设置向量参数值”节点。(按下 **Ctrl** 并选择它们。)

2.  右键单击任何一个选定的节点。

3.  选择**折叠到功能**(见图 [6-16](#Fig17) )。

在“我的蓝图”选项卡中，系统会提示您重命名这个新功能，因此我们将其命名为 ChangeColorTo。双击此新节点以打开图表，并将“设置向量参数值”的值大头针拖动到紫色的“将颜色更改为”节点上。您应该会看到将引脚添加到节点工具提示(参见图 [6-17](#Fig18) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig18_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig18_HTML.jpg)

图 6-17。

当您看到此工具提示时，松开鼠标左键，您现在有一个连接到“设置向量参数值”节点的此函数的值输入。

返回到构造脚本，并在设置材质节点后将新创建的“更改颜色”连接到节点。对于值，设置不同的颜色(例如红色)并编译。切换回“视口”选项卡，您会看到应用了红色。你现在有了一个可以在游戏过程中随时调用来改变颜色的函数。

#### 使用 C++

既然你已经知道了如何使用蓝图来修改运行时材料，让我们深入 C++看看事情是如何完成的。在第 4 章中，你已经创建了一个可以修改的 Actor 类。你需要做的第一件事是将一个类型为 material 的变量暴露给 Blueprints，这样你就有了一个 Material 来创建 Material 动态实例。在 MyActor.h 头文件中编写以下代码。

```
/* Material to be used as the parent for Material Instance Dynamic.*/
UPROPERTY(EditAnywhere)
class UMaterialInterface* ParentMaterial;

/* Cached reference to the instance created. */
UPROPERTY()
class UMaterialInstanceDynamic* MID;

/* Use this color in MID. */
UPROPERTY(EditAnywhere)
FLinearColor NewColor;

```

在 Blueprints 中，您可能已经注意到在 Construction 脚本中创建了动态材质实例，并且创建了一个自定义函数来更改颜色。在 C++中，您可以使用 OnConstruction 本机方法和一个自定义函数来完成同样的工作。在 MyActor.h 头文件中，添加以下代码。

```
/* This is the same as Construction Script in Blueprints */
virtual void OnConstruction(const FTransform& Transform) override;

/* You create the same function from Blueprint, which can change the color in MID. */
UFUNCTION(BlueprintCallable, Category = "My Actor")
void ChangeColorTo();

```

现在要实现，将以下代码添加到 MyActor.cpp 文件中。

```
void AMyActor::OnConstruction(const FTransform& Transform)
{
     Super::OnConstruction(Transform);

     // Make sure you have a valid material to create from.
     if (ParentMaterial != nullptr)
     {
          // Create the dynamic material instance using the static Create method.
          MID = UMaterialInstanceDynamic::Create(ParentMaterial, this);

// Assign the material to Mesh Component.
MeshComponent->SetMaterial(0, MID);

     }
}

void AMyActor::ChangeColorTo()
{
     // It is important to check if MID is valid.
     if (MID != nullptr)
     {
          // Set the color to NewColor value.
         MID->SetVectorParameterValue(FName("Color"), NewColor);
     }
}

```

在 C++中，可以从内容浏览器中直接引用资源。您可以快速浏览一下在 C++中直接分配父材质的情况。

首先，在“内容浏览器”中的材质上单击鼠标右键，然后选择“复制参照”，这将复制剪贴板的参照路径。在 C++中，稍微修改一下就可以使用这个路径(参见图 [6-18](#Fig19) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig19_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig19_HTML.jpg)

图 6-18。

打开 MyActor.cpp 文件，在 AMyActor 构造函数下添加以下代码。

```
static ConstructorHelpers::FObjectFinder<UMaterialInterface> ContentBrowserMaterial(TEXT(""));

```

现在，在(TEXT(" ")的引号内，粘贴从剪贴板中从内容浏览器复制的参考路径。现在看起来应该是这样的(注意:路径可能会根据材料的位置而有所不同)

```
static ConstructorHelpers::FObjectFinder<UMaterialInterface> ContentBrowserMaterial(TEXT("Material'/Game/Blueprints/M_Example.M_Example'"));.

```

接下来，在最后一行下面添加这个条件流。

```
if (ContentBrowserMaterial.Succeeded())
{
     ParentMaterial = ContentBrowserMaterial.Object;
}

```

您的构造函数代码现在应该如下所示。

```
AMyActor::AMyActor()
{
     MeshComponent = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("MeshComponent"));
     RootComponent = MeshComponent;

     bCanBeCollected = true;
     ToggleableOption = 0;
     static ConstructorHelpers::FObjectFinder<UMaterialInterface> ContentBrowserMaterial(TEXT("Material'/Game/Blueprints/M_Example.M_Example'"));
     if (ContentBrowserMaterial.Succeeded())
     {
          ParentMaterial = ContentBrowserMaterial.Object;
     }
     PrimaryActorTick.bCanEverTick = true;
}

```

在 Visual Studio 中按 F5 运行游戏。一旦编辑器启动，打开基于 MyActor 的蓝图，这是您在第 [4](4.html) 章中创建的。现在，您应该在蓝图编辑器中看到新的父材质和新的颜色。将蓝图拖放到游戏视口。你现在可以看到网格是黑色的，这是默认的颜色(见图 [6-19](#Fig20) )。

![../images/496849_1_En_6_Chapter/496849_1_En_6_Fig20_HTML.jpg](../images/496849_1_En_6_Chapter/496849_1_En_6_Fig20_HTML.jpg)

图 6-19。

您可以将新颜色调整为任何其他颜色，并立即看到变化。因为你也向 Blueprint 暴露了 C++中的改变颜色功能，你可以在游戏过程中的任何时候调用它。